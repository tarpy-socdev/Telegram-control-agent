# ðŸŽ¯ ÐŸÐ›ÐÐ Ð”Ð•Ð™Ð¡Ð¢Ð’Ð˜Ð™ Ð”Ð›Ð¯ ÐŸÐžÐ›ÐÐžÐ“Ðž ÐžÐ‘ÐÐžÐ’Ð›Ð•ÐÐ˜Ð¯ Ð‘ÐžÐ¢Ð

Ð‘Ñ€Ð¾, Ð²Ð¾Ñ‚ Ð¿Ð¾Ð»Ð½Ñ‹Ð¹ Ð¿Ð»Ð°Ð½ Ñ‡Ñ‚Ð¾ Ð´ÐµÐ»Ð°Ñ‚ÑŒ Ñ ÑÑ‚Ð¸Ð¼Ð¸ Ñ„Ð°Ð¹Ð»Ð°Ð¼Ð¸.

## ðŸ“¥ Ð¨ÐÐ“ 1: Ð¡ÐšÐÐ§ÐÐ™ Ð’Ð¡Ð• Ð¤ÐÐ™Ð›Ð«

Ð¡ÐºÐ°Ñ‡Ð°Ð¹ ÑÑ‚Ð¸ Ñ„Ð°Ð¹Ð»Ñ‹ ÑÐµÐ±Ðµ Ð½Ð° Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ ÐºÐ¾Ð¼Ð¿ÑŒÑŽÑ‚ÐµÑ€:
- âœ… `update_bot_final.py`
- âœ… `cleanup_channels.py`
- âœ… `deploy.sh`
- âœ… `README.md`
- âœ… `REPOSITORY_STRUCTURE.md`
- âœ… `PLAN.md` (ÑÑ‚Ð¾Ñ‚ Ñ„Ð°Ð¹Ð»)

---

## ðŸ› ï¸ Ð¨ÐÐ“ 2: ÐžÐ‘ÐÐžÐ’Ð˜ Ð‘ÐžÐ¢ ÐÐ Ð¡Ð•Ð Ð’Ð•Ð Ð•

### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ A â€” Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ Ð´ÐµÐ¿Ð»Ð¾Ð¹ Ñ‡ÐµÑ€ÐµÐ· curl Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ:

```bash
# SSH Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€
ssh root@82.202.158.235

# ÐŸÐµÑ€ÐµÐ¹Ð´Ð¸ Ð² Ð¿Ð°Ð¿ÐºÑƒ Ð±Ð¾Ñ‚Ð°
cd /opt/tg-control-agent

# ÐžÑÑ‚Ð°Ð½Ð¾Ð²Ð¸ Ð±Ð¾Ñ‚Ð°
./install.sh stop

# Ð¡ÐºÐ°Ñ‡Ð°Ð¹ Ñ„Ð¸Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ
curl -sO https://raw.githubusercontent.com/tarpy-socdev/Telegram-control-agent/main/update_bot_final.py

# Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ
python3 update_bot_final.py

# ÐŸÐ¾Ð¿Ñ€Ð°Ð²ÑŒ Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð» Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ (Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð½Ðµ Ð»Ð°Ð³Ð°Ð»)
sed -i 's/UPDATE_INTERVAL=5/UPDATE_INTERVAL=30/' .env

# Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸ Ð±Ð¾Ñ‚Ð°
./install.sh start

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒ Ð»Ð¾Ð³Ð¸
./install.sh logs 20
```

### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ B â€” Ð•ÑÐ»Ð¸ GitHub ÐµÑ‰Ñ‘ Ð½Ðµ Ð³Ð¾Ñ‚Ð¾Ð²:

```bash
# ÐÐ° ÑÐµÑ€Ð²ÐµÑ€Ðµ Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸:
cd /opt/tg-control-agent
./install.sh stop

# Ð¡ÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ update_bot_final.py Ð² Ñ„Ð°Ð¹Ð» Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ
# Ð˜Ð»Ð¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð¾Ð¹ Ð²Ñ‹ÑˆÐµ
python3 /path/to/update_bot_final.py

# ÐžÐ±Ð½Ð¾Ð²Ð»ÑÐµÐ¼ Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð»
sed -i 's/UPDATE_INTERVAL=5/UPDATE_INTERVAL=30/' .env

# Ð—Ð°Ð¿ÑƒÑÐºÐ°ÐµÐ¼
./install.sh start
```

---

## ðŸ“¦ Ð¨ÐÐ“ 3: Ð—ÐÐ“Ð Ð£Ð—Ð˜ ÐÐ GITHUB

### Ð•ÑÐ»Ð¸ Ñƒ Ñ‚ÐµÐ±Ñ Git ÐµÑ‰Ñ‘ Ð½Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½:

```bash
# ÐÐ° Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ð¼Ð°ÑˆÐ¸Ð½Ðµ Ð² Ð¿Ð°Ð¿ÐºÐµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°
cd ~/Telegram-control-agent

# Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐµÐ¼ Git
git init

# ÐšÐ¾Ð¿Ð¸Ñ€ÑƒÐµÐ¼ ÑÑ‚Ð¸ Ñ„Ð°Ð¹Ð»Ñ‹ Ð² Ð¿Ð°Ð¿ÐºÑƒ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°
cp ~/Downloads/update_bot_final.py ./
cp ~/Downloads/cleanup_channels.py ./
cp ~/Downloads/deploy.sh ./
cp ~/Downloads/README.md ./
cp ~/Downloads/REPOSITORY_STRUCTURE.md ./

# Ð£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ Ñ‡Ñ‚Ð¾ .gitignore Ð¸ requirements.txt ÐµÑÑ‚ÑŒ
cat > .gitignore << 'EOF'
# Ð’Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ
venv/
env/
.venv

# Python
__pycache__/
*.py[cod]
.Python

# IDE
.vscode/
.idea/
*.swp

# ÐšÐ¾Ð½Ñ„Ð¸Ð³ Ð¸ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ðµ
.env
status_messages.json
*.log

# Ð’Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹
/tmp/
*.bak
EOF

# ÐšÐ¾Ð¼Ð¼Ð¸Ñ‚Ð¸Ð¼
git add -A
git commit -m "initial: telegram control agent bot"

# Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ ÑƒÐ´Ð°Ð»ÐµÐ½Ð½Ñ‹Ð¹ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹
git branch -M main
git remote add origin https://github.com/tarpy-socdev/Telegram-control-agent.git

# ÐŸÑƒÑˆÐ¸Ð¼ Ð½Ð° GitHub
git push -u origin main
```

### Ð•ÑÐ»Ð¸ Git ÑƒÐ¶Ðµ ÐµÑÑ‚ÑŒ:

```bash
# ÐŸÑ€Ð¾ÑÑ‚Ð¾ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÐ¹ Ð½Ð¾Ð²Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹
git add update_bot_final.py cleanup_channels.py deploy.sh README.md
git commit -m "feat: Ñ„Ð¸Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ð²ÐµÑ€ÑÐ¸Ñ Ð±Ð¾Ñ‚Ð° Ñ Ñ„Ð¸ÐºÑÐ°Ð¼Ð¸ SSH Ð¸ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸ÐµÐ¹"
git push origin main
```

---

## ðŸ”§ Ð¨ÐÐ“ 4: Ð˜Ð¡ÐŸÐžÐ›Ð¬Ð—Ð£Ð™ DEPLOY Ð¡ÐšÐ Ð˜ÐŸÐ¢ Ð’ Ð‘Ð£Ð”Ð£Ð©Ð•Ðœ

ÐŸÐ¾ÑÐ»Ðµ Ñ‚Ð¾Ð³Ð¾ ÐºÐ°Ðº Ð²ÑÑ‘ Ð½Ð° GitHub, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹ deploy.sh Ð´Ð»Ñ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ð¹:

```bash
# ÐÐ° Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ð¼Ð°ÑˆÐ¸Ð½Ðµ
./deploy.sh push       # Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ Ð½Ð° GitHub
./deploy.sh pull       # ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ
./deploy.sh restart    # ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð±Ð¾Ñ‚
./deploy.sh logs       # ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸
./deploy.sh full       # Ð’ÑÑ‘ Ð²Ð¼ÐµÑÑ‚Ðµ (push + pull + restart)
```

ÐžÑ‚Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€ÑƒÐ¹ Ð² deploy.sh Ð½ÑƒÐ¶Ð½Ñ‹Ð¹ SERVER ÐµÑÐ»Ð¸ Ð½Ðµ 82.202.158.235.

---

## ðŸ§¹ Ð¨ÐÐ“ 5: ÐžÐ§Ð˜Ð¡Ð¢ÐšÐ Ð¡Ð¢ÐÐ Ð«Ð¥ Ð¡ÐžÐžÐ‘Ð©Ð•ÐÐ˜Ð™

Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ cleanup_channels.py:

```bash
# Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ ÑÑ‚Ð°Ñ€ÑˆÐµ 7 Ð´Ð½ÐµÐ¹
python3 cleanup_channels.py "7851126415:AAH1yKpCvlAIspUMXybMcgOÐ¢jwVlH8oGNtw" 7

# Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð’Ð¡Ð• ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ
python3 cleanup_channels.py "7851126415:AAH1yKpCvlAIspUMXybMcgOÐ¢jwVlH8oGNtw" all

# Ð˜Ð»Ð¸ Ñ‡ÐµÑ€ÐµÐ· Ð±Ð¾Ñ‚: ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ â†’ ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ
```

---

## âœ… Ð§Ð¢Ðž Ð‘Ð«Ð›Ðž Ð˜Ð¡ÐŸÐ ÐÐ’Ð›Ð•ÐÐž Ð˜ Ð£Ð›Ð£Ð§Ð¨Ð•ÐÐž

### ðŸ› Ð‘Ð°Ð³Ð¸ ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¿Ð¾Ð±ÐµÐ´Ð¸Ð»Ð¸:

1. **SSH Ð½Ðµ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ð»ÑÑ** â†’ Ð¤Ð¸ÐºÑÐ¸Ð¼ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ ssh.socket (socket activation)
2. **SSH ÐºÐ»ÑŽÑ‡ Ð½Ðµ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÐ»ÑÑ** â†’ Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÑƒ Ñ€Ð°Ð·Ð½Ñ‹Ñ… Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ (--user)
3. **Ð‘Ð¾Ñ‚ Ð»Ð°Ð³Ð°Ð»** â†’ ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¸ UPDATE_INTERVAL = 30 ÑÐµÐº
4. **Ð—Ð°Ð´Ð°Ñ‡Ð¸ Ð¿Ñ€Ð¾Ð¿ÑƒÑÐºÐ°Ð»Ð¸ÑÑŒ** â†’ Ð¤Ð¸ÐºÑÐ¸Ð¼ job_queue Ð¿ÐµÑ€ÐµÐ³Ñ€ÑƒÐ·ÐºÐ¸

### âœ¨ ÐÐ¾Ð²Ñ‹Ðµ Ñ„Ð¸Ñ‡Ð¸:

1. **ÐšÑ€Ð°ÑÐ¸Ð²Ð¾Ðµ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ** â†’ ÐÐ¾Ð²Ñ‹Ð¹ formatter.py Ñ Ð±Ð¾ÐºÑÐ°Ð¼Ð¸ Ð¸ ÑÐ¼Ð¾Ð´Ð·Ð¸
2. **ÐžÑ‡Ð¸ÑÑ‚ÐºÐ° ÐºÐ°Ð½Ð°Ð»Ð¾Ð²** â†’ cleanup_channels.py Ð¿Ð¾ Ð´Ð½ÑÐ¼ Ð¸Ð»Ð¸ Ð²ÑÐµ ÑÑ€Ð°Ð·Ñƒ
3. **Deploy ÑÐºÑ€Ð¸Ð¿Ñ‚** â†’ ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð´ÐµÐ¿Ð»Ð¾Ð¹ Ð½Ð° GitHub Ð¸ ÑÐµÑ€Ð²ÐµÑ€
4. **Ð£Ð»ÑƒÑ‡ÑˆÐµÐ½Ð½Ñ‹Ðµ ÐºÐ½Ð¾Ð¿ÐºÐ¸** â†’ ÐÐ¾Ð²Ñ‹Ðµ Ð¼ÐµÐ½ÑŽ Ð² keyboards.py
5. **Ð›ÑƒÑ‡ÑˆÐ°Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ** â†’ README.md Ð¸ REPOSITORY_STRUCTURE.md

---

## ðŸ“Š Ð¡Ð¢Ð Ð£ÐšÐ¢Ð£Ð Ð Ð Ð•ÐŸÐžÐ—Ð˜Ð¢ÐžÐ Ð˜Ð¯ (ÐºÐ°Ðº Ð´Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ Ð½Ð° GitHub)

```
Telegram-control-agent/
â”œâ”€â”€ README.md                    â† Ð“Ð»Ð°Ð²Ð½Ð°Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ
â”œâ”€â”€ .gitignore
â”œâ”€â”€ .env.example                 â† ÐŸÑ€Ð¸Ð¼ÐµÑ€ ÐºÐ¾Ð½Ñ„Ð¸Ð³Ð°
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ install.sh                   â† Ð£Ð¶Ðµ ÐµÑÑ‚ÑŒ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ
â”œâ”€â”€ update_bot_final.py          â† ÐÐžÐ’Ð«Ð™ Ñ„Ð°Ð¹Ð»
â”œâ”€â”€ cleanup_channels.py          â† ÐÐžÐ’Ð«Ð™ Ñ„Ð°Ð¹Ð»
â”œâ”€â”€ deploy.sh                    â† ÐÐžÐ’Ð«Ð™ Ñ„Ð°Ð¹Ð»
â””â”€â”€ bot/                         â† Ð£Ð¶Ðµ ÐµÑÑ‚ÑŒ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ (Ð¸Ð»Ð¸ Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÐµÑ‚ÑÑ)
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ main.py
    â”œâ”€â”€ config.py
    â”œâ”€â”€ core/
    â”‚   â””â”€â”€ controller.py        â† ÐžÐ‘ÐÐžÐ’Ð›ÐÐ (SSH Ñ„Ð¸ÐºÑÑ‹)
    â”œâ”€â”€ monitor/
    â”‚   â””â”€â”€ server.py
    â”œâ”€â”€ storage/
    â”‚   â””â”€â”€ status_store.py      â† ÐžÐ‘ÐÐžÐ’Ð›ÐÐ (Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ° ÐºÐ°Ð½Ð°Ð»Ð¾Ð²)
    â””â”€â”€ telegram/
        â”œâ”€â”€ handlers.py          â† ÐžÐ‘ÐÐžÐ’Ð›ÐÐ
        â”œâ”€â”€ keyboards.py         â† ÐžÐ‘ÐÐžÐ’Ð›ÐÐ
        â””â”€â”€ formatter.py         â† ÐžÐ‘ÐÐžÐ’Ð›ÐÐ
```

---

## ðŸš€ Ð¢Ð•Ð¡Ð¢Ð˜Ð ÐžÐ’ÐÐÐ˜Ð• ÐŸÐžÐ¡Ð›Ð• ÐžÐ‘ÐÐžÐ’Ð›Ð•ÐÐ˜Ð¯

ÐŸÐ¾ÑÐ»Ðµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑŒ Ð² Ð±Ð¾Ñ‚Ðµ:

```
âœ… /start â†’ Ð¡Ñ‚Ð°Ñ‚ÑƒÑ Ñ Ð½Ð¾Ð²Ñ‹Ð¼ ÐºÑ€Ð°ÑÐ¸Ð²Ñ‹Ð¼ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¾Ð¼
âœ… Ð¡Ñ‚Ð°Ñ‚ÑƒÑ Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÐµÑ‚ÑÑ ÐºÐ°Ð¶Ð´Ñ‹Ðµ 30 ÑÐµÐº (Ð±Ñ‹Ð» 5 ÑÐµÐº)
âœ… ÐšÐ½Ð¾Ð¿ÐºÐ° "ðŸ” SSH" â†’ ÐžÑ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ SSH Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚
âœ… /add_ssh_key ssh-ed25519 AAAA... --user tarpy â†’ Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÑ‚ Ð´Ð»Ñ tarpy
âœ… ÐšÐ½Ð¾Ð¿ÐºÐ° "ðŸ§¹ ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ" â†’ Ð£Ð´Ð°Ð»ÑÐµÑ‚ ÑÑ‚Ð°Ñ€Ñ‹Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ð¸Ð· ÐºÐ°Ð½Ð°Ð»Ð¾Ð²
âœ… ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ â†’ Ð§Ð°Ñ‚ Ð¿Ñ€Ð¸Ð²ÑÐ·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ð¸ Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÐµÑ‚ÑÑ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸
âœ… ÐŸÐ¾ÑÐ»Ðµ Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐºÐ° Ð±Ð¾Ñ‚Ð° â†’ ÐŸÑ€Ð¸Ñ…Ð¾Ð´Ð¸Ñ‚ "Ð‘Ð¾Ñ‚ ÑÐ½Ð¾Ð²Ð° Ð¾Ð½Ð»Ð°Ð¹Ð½!"
âœ… ÐÐ»ÐµÑ€Ñ‚Ñ‹ Ð¿Ñ€Ð¸ Ð²Ñ‹ÑÐ¾ÐºÐ¾Ð¹ Ð½Ð°Ð³Ñ€ÑƒÐ·ÐºÐµ â†’ Ð‘ÐµÐ· ÑÐ¿Ð°Ð¼Ð°, Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÐºÐ¾Ð³Ð´Ð° Ð½Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð²Ñ‹Ñ€Ð¾ÑÐ»Ð°
```

---

## ðŸŽ Ð‘ÐžÐÐ£Ð¡: ÐšÐžÐœÐÐÐ”Ð« ÐšÐžÐ¢ÐžÐ Ð«Ð• Ð¢Ð« ÐœÐžÐ–Ð•Ð¨Ð¬ Ð˜Ð¡ÐŸÐžÐ›Ð¬Ð—ÐžÐ’ÐÐ¢Ð¬

### Ð”Ð»Ñ Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ð°:
- `/status` â€” ÑÑ‚Ð°Ñ‚ÑƒÑ ÑÐµÑ€Ð²ÐµÑ€Ð°
- `/ping google.com` â€” Ð¿Ð¸Ð½Ð³ Ñ…Ð¾ÑÑ‚Ð°
- `/logs ssh 50` â€” Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ Ð»Ð¾Ð³Ð¸
- `/services` â€” Ð²ÑÐµ ÑÐ»ÑƒÐ¶Ð±Ñ‹
- `/ports` â€” Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ñ‹Ðµ Ð¿Ð¾Ñ€Ñ‚Ñ‹

### Ð”Ð»Ñ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ:
- `/restart_service ssh` â€” Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ ÑÐµÑ€Ð²Ð¸Ñ
- `/reboot` â€” Ð¿ÐµÑ€ÐµÐ·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ ÑÐµÑ€Ð²ÐµÑ€
- `/close_port 8080` â€” Ð·Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ Ð¿Ð¾Ñ€Ñ‚
- `/clear_logs` â€” Ð¾Ñ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ Ð¶ÑƒÑ€Ð½Ð°Ð»

### Ð”Ð»Ñ SSH:
- `/add_ssh_key ssh-ed25519 AAAA... --user tarpy` â€” Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÐºÐ»ÑŽÑ‡
- ÐšÐ½Ð¾Ð¿ÐºÐ° ðŸ” SSH â†’ Ð’ÐºÐ»/Ð’Ñ‹ÐºÐ» SSH

### Ð”Ð»Ñ ÐºÐ°Ð½Ð°Ð»Ð¾Ð²:
- `/link_channel -100123456789` â€” Ð¿Ñ€Ð¸Ð²ÑÐ·Ð°Ñ‚ÑŒ ÐºÐ°Ð½Ð°Ð»
- `/unlink_channel` â€” Ð¾Ñ‚Ð²ÑÐ·Ð°Ñ‚ÑŒ Ñ‡Ð°Ñ‚
- `/broadcast Ð¢ÐµÐºÑÑ‚` â€” Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð²Ð¾ Ð²ÑÐµ ÐºÐ°Ð½Ð°Ð»Ñ‹
- ÐšÐ½Ð¾Ð¿ÐºÐ° "ðŸ§¹ ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ" â†’ Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ñ€Ñ‹Ðµ

---

## ðŸ“ ÐŸÐžÐ›Ð•Ð—ÐÐ«Ð• Ð¡Ð¡Ð«Ð›ÐšÐ˜

- **Python-telegram-bot:** https://docs.python-telegram-bot.org/
- **psutil Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ:** https://psutil.readthedocs.io/
- **GitHub Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ:** https://docs.github.com/

---

## â“ Ð•Ð¡Ð›Ð˜ Ð§Ð¢Ðž-Ð¢Ðž ÐÐ• Ð ÐÐ‘ÐžÐ¢ÐÐ•Ð¢

### ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒ Ð»Ð¾Ð³Ð¸:
```bash
cd /opt/tg-control-agent
./install.sh logs 50
```

### ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸ Ð±Ð¾Ñ‚Ð°:
```bash
./install.sh restart
```

### ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒ ÐºÐ¾Ð½Ñ„Ð¸Ð³:
```bash
cat .env
cat status_messages.json
```

### Ð£Ð±ÐµÐ´Ð¸ÑÑŒ Ñ‡Ñ‚Ð¾ BOT_TOKEN Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¹:
```bash
# Ð’ .env Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð±Ñ‹Ñ‚ÑŒ Ð½Ð°ÑÑ‚Ð¾ÑÑ‰Ð¸Ð¹ Ñ‚Ð¾ÐºÐµÐ½
cat .env | grep BOT_TOKEN
```

---

## ðŸŽ¯ Ð˜Ð¢ÐžÐ“Ðž Ð§Ð¢Ðž Ð”Ð•Ð›ÐÐ¢Ð¬:

1. **Ð¡ÐºÐ°Ñ‡Ð°Ð¹ Ñ„Ð°Ð¹Ð»Ñ‹** â† Ñ‚Ñ‹ ÑÑ‚Ð¾ ÑÐµÐ¹Ñ‡Ð°Ñ Ð´ÐµÐ»Ð°ÐµÑˆÑŒ
2. **Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸ update_bot_final.py Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€ Ð¸ Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸**
3. **Ð˜Ð·Ð¼ÐµÐ½Ð¸Ð¼ UPDATE_INTERVAL Ð½Ð° 30 ÑÐµÐº**
4. **Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸ÑˆÑŒ Ð½Ð° GitHub Ð²ÑÐµ Ñ„Ð°Ð¹Ð»Ñ‹**
5. **Ð‘ÑƒÐ´ÐµÑˆÑŒ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ deploy.sh Ð´Ð»Ñ Ð±ÑƒÐ´ÑƒÑ‰Ð¸Ñ… Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ð¹**
6. **ÐžÑ‡Ð¸Ñ‰Ð°Ñ‚ÑŒ ÐºÐ°Ð½Ð°Ð»Ñ‹ Ñ‡ÐµÑ€ÐµÐ· cleanup_channels.py**

Ð’ÑÑ‘! Ð‘Ð¾Ñ‚ Ð±ÑƒÐ´ÐµÑ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ð¶ÐµÑÑ‚ÐºÐ¾ Ð¸ ÐºÑ€Ð°ÑÐ¸Ð²Ð¾! ðŸš€

---

**Ð•ÑÐ»Ð¸ Ñ‡Ñ‚Ð¾-Ñ‚Ð¾ Ð½ÐµÐ¿Ð¾Ð½ÑÑ‚Ð½Ð¾ â€” ÑÐ¿Ñ€Ð°ÑˆÐ¸Ð²Ð°Ð¹, Ñ€Ð°Ð·Ð±ÐµÑ€ÐµÐ¼ÑÑ! ðŸ’ª**
