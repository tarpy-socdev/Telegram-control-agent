# üñ• Telegram Control Agent

Telegram –±–æ—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ Linux —Å–µ—Ä–≤–µ—Ä–∞. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ –∫–∞–Ω–∞–ª–µ –∏ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª—è–µ—Ç –µ–≥–æ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç –±–µ–∑ —Å–ø–∞–º–∞.

## ‚ö° –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π

```bash
git clone https://github.com/tarpy-socdev/Telegram-control-agent.git /opt/tg-control-agent
cd /opt/tg-control-agent
sudo ./install.sh install
sudo ./install.sh configure
sudo ./install.sh start
```

## üéÆ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|
| `/status` | –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å CPU, RAM, Disk, Network |
| `/services` | –°–ø–∏—Å–æ–∫ —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö systemd —Å–ª—É–∂–± |
| `/ports` | –û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã —Å –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ |
| `/ping <—Ö–æ—Å—Ç>` | –ü–∏–Ω–≥ —Ö–æ—Å—Ç–∞ |
| `/restart_service <–∏–º—è>` | –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–ª—É–∂–±—É (—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º) |
| `/logs <—Å–ª—É–∂–±–∞> [—Å—Ç—Ä–æ–∫]` | –ü—Ä–æ—Å–º–æ—Ç—Ä –∂—É—Ä–Ω–∞–ª–∞ —Å–ª—É–∂–±—ã |
| `/reboot` | –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–µ—Ä–≤–µ—Ä (—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º) |
| `/clear_logs` | –û—á–∏—Å—Ç–∏—Ç—å journalctl |
| `/close_port <–ø–æ—Ä—Ç>` | –ó–∞–≤–µ—Ä—à–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É |
| `/test_update` | –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≤ –∫–∞–Ω–∞–ª–∞—Ö –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å |

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

```bash
sudo ./install.sh start        # –∑–∞–ø—É—Å—Ç–∏—Ç—å
sudo ./install.sh stop         # –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
sudo ./install.sh restart      # –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
sudo ./install.sh status       # —Å—Ç–∞—Ç—É—Å systemd —Å–µ—Ä–≤–∏—Å–∞
sudo ./install.sh logs 200     # –ø–æ—Å–ª–µ–¥–Ω–∏–µ 200 —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤
sudo ./install.sh logs-live    # –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
sudo ./install.sh diagnose     # –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º
sudo ./install.sh update       # –æ–±–Ω–æ–≤–∏—Ç—å —Å GitHub
sudo ./install.sh configure    # –∏–∑–º–µ–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω / ID
```

## üîë –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ —Ñ–∞–π–ª–µ `.env` (—Å–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ):

```env
BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_BotFather
ADMIN_IDS=123456789,987654321
UPDATE_INTERVAL=300
```

> ‚ö†Ô∏è `.env` –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore` ‚Äî —Ç–æ–∫–µ–Ω **–Ω–∏–∫–æ–≥–¥–∞** –Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îú‚îÄ‚îÄ main.py              # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ config.py            # –∑–∞–≥—Ä—É–∑–∫–∞ .env
‚îÇ   ‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ controller.py    # —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ systemd, –ø–æ—Ä—Ç–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ monitor/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ server.py        # CPU, RAM, Disk, —Å–ª—É–∂–±—ã, –ø–æ—Ä—Ç—ã, ping
‚îÇ   ‚îú‚îÄ‚îÄ storage/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ status_store.py  # —Ö—Ä–∞–Ω–µ–Ω–∏–µ ID —Å–æ–æ–±—â–µ–Ω–∏–π –∫–∞–Ω–∞–ª–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ telegram/
‚îÇ       ‚îú‚îÄ‚îÄ handlers.py      # –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã –∏ callbacks
‚îÇ       ‚îú‚îÄ‚îÄ keyboards.py     # inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îÇ       ‚îî‚îÄ‚îÄ formatter.py     # —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
‚îú‚îÄ‚îÄ .env.example             # —à–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥–∞
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ install.sh               # —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
```

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏–∑ `ADMIN_IDS`
- –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (restart, reboot, close port) —Ç—Ä–µ–±—É—é—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- –¢–æ–∫–µ–Ω —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `.env`, –Ω–µ –≤ –∫–æ–¥–µ
